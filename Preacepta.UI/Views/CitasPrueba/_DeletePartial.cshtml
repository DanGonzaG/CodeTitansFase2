@using Microsoft.AspNetCore.Antiforgery
@inject IAntiforgery Antiforgery
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Antiforgery
@model Preacepta.Modelos.AbstraccionesFrond.CitasDTO

<head>
    <link href="~/lyso/css/Daniel.css" rel="stylesheet" />
    <link href="~/calendario/stylecalendar.css" rel="stylesheet" />
</head>

<div class="contact-form contact-form-two contact-form-three LetraNegra">
    <div class="container">
        <div class="contact-wrap">
            <h2 class="encabezado-gold">¿Estás seguro de que deseas eliminar esta cita?</h2>

            <div>
                <h4>Detalles de la Cita</h4>
                <hr />
                <dl class="row">
                    <dt class="col-sm-2">ID</dt>
                    <dd class="col-sm-10">@Model.IdCita</dd>

                    <dt class="col-sm-2">Fecha</dt>
                    <dd class="col-sm-10">@Model.Fecha.ToString("yyyy-MM-dd")</dd>

                    <dt class="col-sm-2">Hora</dt>
                    <dd class="col-sm-10">@Model.Hora.ToString(@"hh\:mm")</dd>

                    <dt class="col-sm-2">Tipo</dt>
                    <dd class="col-sm-10">@Model.NombreTipoCita</dd>

                    <dt class="col-sm-2">Link</dt>
                    <dd class="col-sm-10">@Model.LinkVideo</dd>
                </dl>
            </div>

            <!-- No usamos form para evitar submit tradicional -->
            <input type="hidden" id="IdCitaEliminar" value="@Model.IdCita" />
            <input type="hidden" id="RequestVerificationToken" name="__RequestVerificationToken" value="@Antiforgery.GetTokens(HttpContextAccessor.HttpContext).RequestToken" />


            <div class="text-center mt-4">
                <button type="button" class="contact-btn" onclick="eliminarCita()">Eliminar</button>
                <button type="button" class="contact-btn" onclick="cerrarModal('modalEliminarCita', true)">Cerrar</button>
            </div>
        </div>
    </div>
</div>
